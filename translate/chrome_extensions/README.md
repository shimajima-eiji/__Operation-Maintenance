# URL
- [デモページ(Github Pages)](https://shimajima-eiji.github.io/__Operation-Maintenance/translate/chrome_extensions)
- [GASリポジトリ](https://github.com/shimajima-eiji/--GAS_v5_Translate)

# 翻訳した記録と履歴を残す
PC版の翻訳機能っぽいUIでGASにcurlして履歴を保存する

- 翻訳UIはindex.html
- 履歴を残す機能はGAS
- 翻訳処理もGAS

# 事前設定
ファイルをcloneして`translate.js`の`SCRIPT_ID = ''`にGASのスクリプトIDを入れてください。<br />
入れたらそのまま実行できます。

詳細は当該リポジトリを見て欲しいのですが、forkした後のGASにも設定が必要です。

# 使い方
デモページの通り。<br />
デモページの動作をchrome extensions(ver3)でも実行できるようにしています。

## manifest.json
事情があってversion2を使いたい方は、

```
  "manifest_version": 3,
  "action": {
```

を

```
  "manifest_version": 2,
  "browser_action": {
```

に変えてください。
執筆時点でversion2からversion3に作り替えたので、おそらく動くんじゃないかと思います。

## index.html
現状は英和・和英の翻訳だけ対応しています。<br />
仕様としてはその他の言語も翻訳できますが、制御としては（私にとって需要がないので）やっていません。

１行ずつ翻訳していますが、ある程度の長文の翻訳にも対応しています。<br />
ただし、前後の文章のつながりは気にしていないので、精度は高くありません。

# 注意
後述で詳しく言及しますが、LanguageAPIは回数制限があります。<br />
デモページで公開しているものはデモ用に公開している本物なので、LanguageAPIを呼び出されるとバンバンカウンターを回します。<br />
カウンターを振り切っても大丈夫なように「いつ・どんなデータがどこから送られているか」をロギングしています。（これがこのアプリの真骨頂です）

常識的な範囲で使う程度ならデモの状態で使っていただけますが、大量のデータを翻訳したい場合は、素直にGoogleなりDeepLなりを使ってください。<br />
あるいは、ご自身で環境を作ると回数制限をいくらか回避できると思います。

# chrome拡張機能として登録する方法
このアプリは個人用（不特定多数の人にそのまま使われた場合、LanguageAPIの回数制限に引っかかって使えなくなる可能性が高い）ので、アプリストアには申請していません。<br />
そもそも登録に費用が必要なので、アフィリエイト目的でもない限り特にはならず、アフィリエイト目的でも利用者が増えると上記制限のため使えなくなります。<br />
複数のアカウントを作ってエンドポイントを個別に変えていくつか登録するという荒技も使えなくはないですが、それってどうなん？という気がしないでもないです。

**本スクリプトを使用、あるいは上記のような転載または収益を得るような行為により生じた問題について、私は一切責任を持ちません。**

# マネタイズについて
人によっては有料で提供・公開すべき機能だとお考えの方もいらっしゃると思いますが、私も同じく有料で公開しようと思っていました。<br />
が、あえて無料で公開しているのも理由があります。<br />
皆さんがこちらを無料で使えるようにしたのは、ここで使ってもらった翻訳データは、AI開発の教材データとして使うための自然なデータとしたいからです。<br />
「無料で使ってもいいけど、データ頂戴ね」という事です。（とはいえ、回数制限があるので常識的な範囲でお願いしたく）

本項はあくまでマネタイズの話なので言及しますが、「無料で使いたいけどデータはあげたくない」場合はソースコードを公開しているので、ご自身で環境を構築して使ってみてください。
